/*! international-phone-number 2016-04-20 */
(function(){"use strict";angular.module("internationalPhoneNumber",["angularLoad"]).run(["angularLoad",function(a){return a.loadScript("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/8.5.0/js/intlTelInput.min.js").then(function(){return a.loadScript("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/8.5.0/js/utils.js")}),a.loadCSS("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/8.5.0/css/intlTelInput.css")}]).constant("ipnConfig",{allowExtensions:!1,autoFormat:!0,autoHideDialCode:!0,autoPlaceholder:!0,customPlaceholder:null,defaultCountry:"",geoIpLookup:null,nationalMode:!0,numberType:"MOBILE",onlyCountries:void 0,preferredCountries:["gb","us"]}).filter("E164ToInternational",function(){return function(a){return window.intlTelInputUtils?intlTelInputUtils.formatNumber(a,null,1):a}}).directive("internationalPhoneNumber",["$timeout","ipnConfig",function(a,b){return{restrict:"A",require:"^ngModel",scope:{ngModel:"=",country:"="},link:function(c,d,e,f){var g,h,i,j;return f&&""!==d.val()&&a(function(){return d.intlTelInput("setNumber",d.val()),f.$setViewValue(d.val())},0),i=function(){return f.$setViewValue(d.val())},g=function(a){return a instanceof Array?a:a.toString().replace(/[ ]/g,"").split(",")},h=angular.copy(b),angular.forEach(h,function(a,b){var c;if(e.hasOwnProperty(b)&&angular.isDefined(e[b]))return c=e[b],"preferredCountries"===b?h.preferredCountries=g(c):"onlyCountries"===b?h.onlyCountries=g(c):"boolean"==typeof a?h[b]="true"===c:h[b]=c}),j=c.$watch("ngModel",function(a){return c.$$postDigest(function(){return null!==a&&void 0!==a&&a.length>0&&("+"!==a[0]&&(a="+"+a),f.$modelValue=a),d.intlTelInput(h),j()})}),c.$watch("country",function(a){return null!==a&&void 0!==a&&""!==a?d.intlTelInput("selectCountry",a):void 0}),f.$formatters.push(function(a){return a?(d.intlTelInput("setNumber",a),f.$setValidity(d.intlTelInput("isValidNumber")),d.val()):a}),f.$parsers.push(function(a){return a?a.replace(/[^\d]/g,""):a}),d.on("blur keyup change",function(a){return c.$apply(i)}),d.on("$destroy",function(){return d.intlTelInput("destroy"),d.off("blur keyup change")})}}}])}).call(this);